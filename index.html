<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Preloader Page</title>
  <style>
    /* Basic reset and font */
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: white;
      color: black;
      overflow: hidden; /* Hide scrollbars during preloader */
    }
    .container {
      width: 100%;
      height: 100vh;
      padding: 40px 0;
      background-color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .content {
      text-align: center;
      padding: 0 16px;
    }
    .heading {
      font-weight: bold;
      font-size: 2rem;
      color: black;
    }
    .description {
      font-size: 1rem;
      color: #6b7280;
      max-width: 640px;
      margin: 16px auto;
    }
    /* Animated letters for "Connectivity" */
    .letter {
      display: inline-block;
      opacity: 0;
      animation: fadeInSlide 0.5s forwards;
    }
    @keyframes fadeInSlide {
      from {
        transform: translateX(-10px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    /* World Map styles */
    #world-map {
      margin-top: 40px;
      text-align: center;
    }
    #world-map canvas {
      max-width: 100%;
      height: auto;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <!-- Preloader Container -->
  <div class="container" id="preloader">
    <div class="content">
      <p class="heading">
        Remote 
        <span id="animated-connectivity"></span>
      </p>
      <p class="description">
        Break free from traditional boundaries. Work from anywhere.
      </p>
      <div id="world-map">
        <canvas id="world-map-canvas" width="1280" height="640"></canvas>
      </div>
    </div>
  </div>

  <script>
    // Animate "Connectivity" letter by letter
    document.addEventListener("DOMContentLoaded", function() {
      const text = "Connectivity";
      const container = document.getElementById("animated-connectivity");
      for (let i = 0; i < text.length; i++) {
        const span = document.createElement("span");
        span.className = "letter";
        span.style.animationDelay = (i * 0.04) + "s";
        span.textContent = text[i];
        container.appendChild(span);
      }
    });

    // Array of lines (dots) to draw on the world map
    const dots = [
      { start: { lat: 64.2008, lng: -149.4937 }, end: { lat: 34.0522, lng: -118.2437 } },
      { start: { lat: 64.2008, lng: -149.4937 }, end: { lat: -15.7975, lng: -47.8919 } },
      { start: { lat: -15.7975, lng: -47.8919 }, end: { lat: 38.7223, lng: -9.1393 } },
      { start: { lat: 51.5074, lng: -0.1278 }, end: { lat: 28.6139, lng: 77.209 } },
      { start: { lat: 28.6139, lng: 77.209 }, end: { lat: 43.1332, lng: 131.9113 } },
      { start: { lat: 28.6139, lng: 77.209 }, end: { lat: -1.2921, lng: 36.8219 } }
    ];

    // Convert latitude and longitude to x, y coordinates on the canvas (equirectangular projection)
    function latLngToXY(lat, lng, width, height) {
      const x = (lng + 180) / 360 * width;
      const y = (90 - lat) / 180 * height;
      return { x, y };
    }

    // Set up canvas and draw the world map and lines
    const canvas = document.getElementById("world-map-canvas");
    const ctx = canvas.getContext("2d");
    const worldMapImage = new Image();
    worldMapImage.crossOrigin = "anonymous";
    worldMapImage.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/World_map_-_low_resolution.svg/1280px-World_map_-_low_resolution.svg.png";
    worldMapImage.onload = function() {
      // Draw world map image
      ctx.drawImage(worldMapImage, 0, 0, canvas.width, canvas.height);
      
      // Draw connecting lines between points
      ctx.strokeStyle = "red";
      ctx.lineWidth = 2;
      dots.forEach(dot => {
        const start = latLngToXY(dot.start.lat, dot.start.lng, canvas.width, canvas.height);
        const end = latLngToXY(dot.end.lat, dot.end.lng, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.moveTo(start.x, start.y);
        ctx.lineTo(end.x, end.y);
        ctx.stroke();
      });

      // Draw blue circles for start and end points
      dots.forEach(dot => {
        [dot.start, dot.end].forEach(point => {
          const pos = latLngToXY(point.lat, point.lng, canvas.width, canvas.height);
          ctx.beginPath();
          ctx.arc(pos.x, pos.y, 4, 0, 2 * Math.PI);
          ctx.fillStyle = "blue";
          ctx.fill();
        });
      });
    };

    // Redirect to another page after 3 seconds
    setTimeout(function() {
      window.location.href = "home.html"; // Replace with your target page URL
    }, 3000); // 3000 milliseconds = 3 seconds
  </script>
</body>
</html>
